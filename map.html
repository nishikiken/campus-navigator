<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞ –∫–∞–º–ø—É—Å–∞</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="map-style.css">
</head>
<body>
    <div class="map-container">
        <div class="map-header">
            <button class="back-btn" onclick="goBack()">‚Üê</button>
            <h1>–ö–∞—Ä—Ç–∞ –∫–∞–º–ø—É—Å–∞</h1>
        </div>
        
        <div class="map-controls">
            <button class="control-btn" onclick="zoomIn()">+</button>
            <button class="control-btn" onclick="zoomOut()">‚àí</button>
            <button class="control-btn" onclick="resetView()">‚Ü∫</button>
        </div>

        <div id="map-wrapper" class="map-wrapper">
            <svg id="campus-map" viewBox="0 0 1000 600" xmlns="http://www.w3.org/2000/svg">
                <!-- –§–æ–Ω -->
                <rect width="1000" height="600" fill="#e8e8e8"/>
                
                <!-- –£–ª–∏—Ü—ã -->
                <rect x="0" y="50" width="1000" height="40" fill="#d0d0d0"/>
                <text x="500" y="75" text-anchor="middle" fill="#666" font-size="14">—É–ª. –î–∑–µ—Ä–∂–∏–Ω—Å–∫–æ–≥–æ</text>
                
                <rect x="0" y="300" width="1000" height="30" fill="#d0d0d0"/>
                <text x="500" y="320" text-anchor="middle" fill="#666" font-size="12">—É–ª. –ì–µ–Ω–∫–µ–ª—è</text>
                
                <rect x="50" y="0" width="30" height="600" fill="#d0d0d0"/>
                <text x="65" y="300" text-anchor="middle" fill="#666" font-size="12" transform="rotate(-90 65 300)">—É–ª. –í–∏–ª–æ–Ω–æ–≤–∞</text>
                
                <rect x="350" y="90" width="25" height="240" fill="#d0d0d0"/>
                <text x="362" y="210" text-anchor="middle" fill="#666" font-size="11" transform="rotate(-90 362 210)">–í–æ—Å—Ç–æ—á–Ω–∞—è</text>
                
                <!-- –ó–µ–ª–µ–Ω—ã–µ –∑–æ–Ω—ã -->
                <rect x="100" y="110" width="230" height="180" fill="#90EE90" opacity="0.6" rx="5"/>
                <text x="215" y="200" text-anchor="middle" fill="#2d5016" font-size="16" font-weight="bold">–§–æ–Ω—Ç–∞–Ω</text>
                
                <rect x="100" y="340" width="230" height="240" fill="#7CFC00" opacity="0.5" rx="5"/>
                <text x="215" y="460" text-anchor="middle" fill="#2d5016" font-size="14" font-weight="bold">–ë–æ—Ç–∞–Ω–∏—á–µ—Å–∫–∏–π —Å–∞–¥</text>
                
                <rect x="750" y="100" width="200" height="180" fill="#90EE90" opacity="0.5" rx="5"/>
                <text x="850" y="195" text-anchor="middle" fill="#2d5016" font-size="12">–ø–ª–æ—â–∞–¥—å –î–∑–µ—Ä–∂–∏–Ω—Å–∫–æ–≥–æ</text>
                
                <!-- –ü–∞—Ä–∫–æ–≤–∫–∞ -->
                <rect x="100" y="60" width="100" height="40" fill="#FFE4B5" stroke="#FF8C00" stroke-width="2" rx="3"/>
                <text x="150" y="85" text-anchor="middle" fill="#8B4513" font-size="12" font-weight="bold">–ü–∞—Ä–∫–æ–≤–∫–∞</text>
                
                <!-- –ö–æ—Ä–ø—É—Å–∞ -->
                <!-- –ö–æ—Ä–ø—É—Å 7 -->
                <g class="building" data-building="7" onclick="selectBuilding(7)">
                    <rect x="100" y="140" width="60" height="50" fill="#FFB6C1" stroke="#333" stroke-width="2" rx="3"/>
                    <text x="130" y="170" text-anchor="middle" fill="#333" font-size="20" font-weight="bold">7</text>
                </g>
                
                <!-- –ö–æ—Ä–ø—É—Å 6 -->
                <g class="building" data-building="6" onclick="selectBuilding(6)">
                    <rect x="100" y="220" width="60" height="50" fill="#FFB6C1" stroke="#333" stroke-width="2" rx="3"/>
                    <text x="130" y="250" text-anchor="middle" fill="#333" font-size="20" font-weight="bold">6</text>
                </g>
                
                <!-- –ö–æ—Ä–ø—É—Å 8 -->
                <g class="building" data-building="8" onclick="selectBuilding(8)">
                    <rect x="180" y="180" width="60" height="50" fill="#FFB6C1" stroke="#333" stroke-width="2" rx="3"/>
                    <text x="210" y="210" text-anchor="middle" fill="#333" font-size="20" font-weight="bold">8</text>
                </g>
                
                <!-- –û–±—â. ‚Ññ2 -->
                <g class="building" data-building="obsh2">
                    <rect x="270" y="110" width="70" height="60" fill="#87CEEB" stroke="#333" stroke-width="2" rx="3"/>
                    <text x="305" y="135" text-anchor="middle" fill="#333" font-size="14" font-weight="bold">–û–±—â.</text>
                    <text x="305" y="150" text-anchor="middle" fill="#333" font-size="14" font-weight="bold">‚Ññ2</text>
                </g>
                
                <!-- –ö–æ—Ä–ø—É—Å 1 -->
                <g class="building" data-building="1" onclick="selectBuilding(1)">
                    <rect x="400" y="150" width="80" height="70" fill="#FFB6C1" stroke="#333" stroke-width="2" rx="3"/>
                    <text x="440" y="190" text-anchor="middle" fill="#333" font-size="24" font-weight="bold">1</text>
                </g>
                
                <!-- –ï–ù–ò -->
                <g class="building" data-building="eni">
                    <rect x="400" y="270" width="60" height="40" fill="#DDA0DD" stroke="#333" stroke-width="2" rx="3"/>
                    <text x="430" y="295" text-anchor="middle" fill="#333" font-size="14" font-weight="bold">–ï–ù–ò</text>
                </g>
                
                <!-- –ö–æ—Ä–ø—É—Å 10 -->
                <g class="building" data-building="10" onclick="selectBuilding(10)">
                    <rect x="520" y="190" width="70" height="60" fill="#FFB6C1" stroke="#333" stroke-width="2" rx="3"/>
                    <text x="555" y="225" text-anchor="middle" fill="#333" font-size="20" font-weight="bold">10</text>
                </g>
                
                <!-- –ö–æ—Ä–ø—É—Å 12 -->
                <g class="building" data-building="12" onclick="selectBuilding(12)">
                    <rect x="480" y="50" width="70" height="50" fill="#FFB6C1" stroke="#333" stroke-width="2" rx="3"/>
                    <text x="515" y="80" text-anchor="middle" fill="#333" font-size="20" font-weight="bold">12</text>
                </g>
                
                <!-- –ö–æ—Ä–ø—É—Å 2 -->
                <g class="building" data-building="2" onclick="selectBuilding(2)">
                    <rect x="400" y="360" width="60" height="50" fill="#FFB6C1" stroke="#333" stroke-width="2" rx="3"/>
                    <text x="430" y="390" text-anchor="middle" fill="#333" font-size="20" font-weight="bold">2</text>
                </g>
                
                <!-- –ö–æ—Ä–ø—É—Å 3 -->
                <g class="building" data-building="3" onclick="selectBuilding(3)">
                    <rect x="480" y="370" width="60" height="50" fill="#FFB6C1" stroke="#333" stroke-width="2" rx="3"/>
                    <text x="510" y="400" text-anchor="middle" fill="#333" font-size="20" font-weight="bold">3</text>
                </g>
                
                <!-- –ö–æ—Ä–ø—É—Å 4 -->
                <g class="building" data-building="4" onclick="selectBuilding(4)">
                    <rect x="400" y="460" width="60" height="50" fill="#FFB6C1" stroke="#333" stroke-width="2" rx="3"/>
                    <text x="430" y="490" text-anchor="middle" fill="#333" font-size="20" font-weight="bold">4</text>
                </g>
                
                <!-- –û–±—â. ‚Ññ8 -->
                <g class="building" data-building="obsh8">
                    <rect x="520" y="360" width="70" height="60" fill="#87CEEB" stroke="#333" stroke-width="2" rx="3"/>
                    <text x="555" y="385" text-anchor="middle" fill="#333" font-size="14" font-weight="bold">–û–±—â.</text>
                    <text x="555" y="400" text-anchor="middle" fill="#333" font-size="14" font-weight="bold">‚Ññ8</text>
                </g>
                
                <!-- –ö–æ—Ä–ø—É—Å 9 -->
                <g class="building" data-building="9" onclick="selectBuilding(9)">
                    <rect x="620" y="330" width="60" height="50" fill="#FFB6C1" stroke="#333" stroke-width="2" rx="3"/>
                    <text x="650" y="360" text-anchor="middle" fill="#333" font-size="20" font-weight="bold">9</text>
                </g>
                
                <!-- –ö–æ—Ä–ø—É—Å 11 -->
                <g class="building" data-building="11" onclick="selectBuilding(11)">
                    <rect x="600" y="400" width="60" height="50" fill="#FFB6C1" stroke="#333" stroke-width="2" rx="3"/>
                    <text x="630" y="430" text-anchor="middle" fill="#333" font-size="20" font-weight="bold">11</text>
                </g>
                
                <!-- –ö–æ—Ä–ø—É—Å 5 -->
                <g class="building" data-building="5" onclick="selectBuilding(5)">
                    <rect x="720" y="150" width="60" height="50" fill="#FFB6C1" stroke="#333" stroke-width="2" rx="3"/>
                    <text x="750" y="180" text-anchor="middle" fill="#333" font-size="20" font-weight="bold">5</text>
                </g>
                
                <!-- –ö–æ—Ä–ø—É—Å 19 -->
                <g class="building" data-building="19" onclick="selectBuilding(19)">
                    <rect x="700" y="380" width="60" height="50" fill="#FFB6C1" stroke="#333" stroke-width="2" rx="3"/>
                    <text x="730" y="410" text-anchor="middle" fill="#333" font-size="18" font-weight="bold">19</text>
                </g>
                
                <!-- –í—Ö–æ–¥—ã (–∫—Ä–∞—Å–Ω—ã–µ —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫–∏) -->
                <polygon points="40,140 60,150 40,160" fill="#FF0000" class="entrance" data-entrance="west1"/>
                <polygon points="40,250 60,260 40,270" fill="#FF0000" class="entrance" data-entrance="west2"/>
                <polygon points="40,340 60,350 40,360" fill="#FF0000" class="entrance" data-entrance="west3"/>
                <polygon points="390,290 400,310 390,330" fill="#FF0000" class="entrance" data-entrance="center"/>
                <polygon points="390,380 400,400 390,420" fill="#FF0000" class="entrance" data-entrance="south"/>
                <polygon points="720,140 730,150 720,160" fill="#FF0000" class="entrance" data-entrance="east"/>
                
                <!-- –¢—Ä–æ–ø–∏–Ω–∫–∏ (–±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏) -->
                <g id="paths-layer"></g>
                
                <!-- –°–ª–æ–π –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ –º–∞—Ä—à—Ä—É—Ç–∞ -->
                <g id="route-layer"></g>
            </svg>
        </div>
        
        <!-- –ü–∞–Ω–µ–ª—å –≤—ã–±–æ—Ä–∞ –≤—Ö–æ–¥–∞ -->
        <div id="entrance-panel" class="panel hidden">
            <h3>–í—ã–±–µ—Ä–∏—Ç–µ –≤—Ö–æ–¥</h3>
            <div class="entrance-list">
                <button class="entrance-btn" onclick="selectEntrance('west1')">üö™ –ó–∞–ø–∞–¥–Ω—ã–π 1</button>
                <button class="entrance-btn" onclick="selectEntrance('west2')">üö™ –ó–∞–ø–∞–¥–Ω—ã–π 2</button>
                <button class="entrance-btn" onclick="selectEntrance('west3')">üö™ –ó–∞–ø–∞–¥–Ω—ã–π 3</button>
                <button class="entrance-btn" onclick="selectEntrance('center')">üèõÔ∏è –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π</button>
                <button class="entrance-btn" onclick="selectEntrance('south')">üö∂ –Æ–∂–Ω—ã–π</button>
                <button class="entrance-btn" onclick="selectEntrance('east')">üö∂ –í–æ—Å—Ç–æ—á–Ω—ã–π</button>
            </div>
            <button class="cancel-btn" onclick="cancelSelection()">–û—Ç–º–µ–Ω–∞</button>
        </div>
        
        <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ—Ä–ø—É—Å–µ -->
        <div id="building-info" class="info-panel hidden">
            <h3 id="building-name">–ö–æ—Ä–ø—É—Å</h3>
            <p id="building-description"></p>
            <button class="route-btn" onclick="showEntrancePanel()">üìç –ü–æ—Å—Ç—Ä–æ–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç</button>
            <button class="close-btn" onclick="closeInfo()">–ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
    </div>
    
    <script src="map-script.js"></script>
</body>
</html>
