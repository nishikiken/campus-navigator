<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞ –∫–∞–º–ø—É—Å–∞</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="map-style.css">
</head>
<body>
    <div class="map-container">
        <div class="map-header">
            <button class="back-btn" onclick="goBack()">‚Üê</button>
            <h1>–ö–∞—Ä—Ç–∞ –∫–∞–º–ø—É—Å–∞</h1>
        </div>
        
        <div class="map-controls">
            <button class="control-btn" onclick="zoomIn()">+</button>
            <button class="control-btn" onclick="zoomOut()">‚àí</button>
            <button class="control-btn" onclick="resetView()">‚Ü∫</button>
        </div>

        <div id="map-wrapper" class="map-wrapper">
            <svg id="campus-map" viewBox="0 0 1024 600" xmlns="http://www.w3.org/2000/svg">
                <!-- –§–æ–Ω -->
                <rect width="1024" height="600" fill="#e5e5e5"/>
                
                <!-- –£–ª–∏—Ü—ã -->
                <rect x="0" y="10" width="1024" height="70" fill="#c8c8c8"/>
                <text x="512" y="50" text-anchor="middle" fill="#666" font-size="16" font-weight="500">—É–ª. –î–∑–µ—Ä–∂–∏–Ω—Å–∫–æ–≥–æ</text>
                
                <rect x="0" y="310" width="1024" height="50" fill="#c8c8c8"/>
                <text x="512" y="340" text-anchor="middle" fill="#666" font-size="14">—É–ª. –ì–µ–Ω–∫–µ–ª—è</text>
                
                <rect x="10" y="0" width="50" height="600" fill="#c8c8c8"/>
                <text x="35" y="300" text-anchor="middle" fill="#666" font-size="13" transform="rotate(-90 35 300)">—É–ª. –í–∏–ª–æ–Ω–æ–≤–∞</text>
                
                <rect x="380" y="80" width="30" height="230" fill="#c8c8c8"/>
                <text x="395" y="195" text-anchor="middle" fill="#666" font-size="12" transform="rotate(-90 395 195)">–í–æ—Å—Ç–æ—á–Ω–∞—è</text>
                
                <!-- –ó–µ–ª–µ–Ω—ã–µ –∑–æ–Ω—ã -->
                <!-- –ó–æ–Ω–∞ —Å —Ñ–æ–Ω—Ç–∞–Ω–æ–º -->
                <rect x="110" y="100" width="260" height="200" fill="#b8e994" opacity="0.8" rx="8"/>
                <text x="240" y="205" text-anchor="middle" fill="#2d5016" font-size="18" font-weight="bold">–§–æ–Ω—Ç–∞–Ω</text>
                
                <!-- –ë–æ—Ç–∞–Ω–∏—á–µ—Å–∫–∏–π —Å–∞–¥ -->
                <rect x="110" y="370" width="230" height="210" fill="#a8e063" opacity="0.8" rx="8"/>
                <text x="225" y="480" text-anchor="middle" fill="#2d5016" font-size="16" font-weight="bold">–ë–æ—Ç–∞–Ω–∏—á–µ—Å–∫–∏–π —Å–∞–¥</text>
                
                <!-- –ü–ª–æ—â–∞–¥—å –î–∑–µ—Ä–∂–∏–Ω—Å–∫–æ–≥–æ -->
                <rect x="760" y="90" width="240" height="210" fill="#b8e994" opacity="0.7" rx="8"/>
                <text x="880" y="200" text-anchor="middle" fill="#2d5016" font-size="14">–ø–ª–æ—â–∞–¥—å –î–∑–µ—Ä–∂–∏–Ω—Å–∫–æ–≥–æ</text>
                
                <!-- –ü–∞—Ä–∫–æ–≤–∫–∞ -->
                <rect x="115" y="20" width="90" height="50" fill="#ffeaa7" stroke="#fdcb6e" stroke-width="3" rx="5"/>
                <text x="160" y="50" text-anchor="middle" fill="#8B4513" font-size="14" font-weight="bold">–ü–∞—Ä–∫–æ–≤–∫–∞</text>
                
                <!-- –ö–æ—Ä–ø—É—Å–∞ -->
                <!-- –ö–æ—Ä–ø—É—Å 7 -->
                <g class="building" data-building="7" onclick="selectBuilding(7)">
                    <rect x="115" y="150" width="60" height="55" fill="#fab1a0" stroke="#2d3436" stroke-width="2.5" rx="4"/>
                    <text x="145" y="183" text-anchor="middle" fill="#2d3436" font-size="22" font-weight="bold">7</text>
                </g>
                
                <!-- –ö–æ—Ä–ø—É—Å 6 -->
                <g class="building" data-building="6" onclick="selectBuilding(6)">
                    <rect x="115" y="230" width="60" height="55" fill="#fab1a0" stroke="#2d3436" stroke-width="2.5" rx="4"/>
                    <text x="145" y="263" text-anchor="middle" fill="#2d3436" font-size="22" font-weight="bold">6</text>
                </g>
                
                <!-- –ö–æ—Ä–ø—É—Å 8 -->
                <g class="building" data-building="8" onclick="selectBuilding(8)">
                    <rect x="200" y="190" width="60" height="55" fill="#fab1a0" stroke="#2d3436" stroke-width="2.5" rx="4"/>
                    <text x="230" y="223" text-anchor="middle" fill="#2d3436" font-size="22" font-weight="bold">8</text>
                </g>
                
                <!-- –û–±—â. ‚Ññ2 -->
                <g class="building" data-building="obsh2">
                    <rect x="285" y="115" width="80" height="70" fill="#74b9ff" stroke="#2d3436" stroke-width="2.5" rx="4"/>
                    <text x="325" y="143" text-anchor="middle" fill="#2d3436" font-size="15" font-weight="bold">–û–±—â.</text>
                    <text x="325" y="163" text-anchor="middle" fill="#2d3436" font-size="15" font-weight="bold">‚Ññ2</text>
                </g>
                
                <!-- –ö–æ—Ä–ø—É—Å 1 -->
                <g class="building" data-building="1" onclick="selectBuilding(1)">
                    <rect x="415" y="160" width="90" height="75" fill="#fab1a0" stroke="#2d3436" stroke-width="2.5" rx="4"/>
                    <text x="460" y="205" text-anchor="middle" fill="#2d3436" font-size="26" font-weight="bold">1</text>
                </g>
                
                <!-- –ï–ù–ò -->
                <g class="building" data-building="eni">
                    <rect x="415" y="280" width="70" height="50" fill="#a29bfe" stroke="#2d3436" stroke-width="2.5" rx="4"/>
                    <text x="450" y="310" text-anchor="middle" fill="#2d3436" font-size="16" font-weight="bold">–ï–ù–ò</text>
                </g>
                
                <!-- –ö–æ—Ä–ø—É—Å 10 -->
                <g class="building" data-building="10" onclick="selectBuilding(10)">
                    <rect x="535" y="200" width="75" height="65" fill="#fab1a0" stroke="#2d3436" stroke-width="2.5" rx="4"/>
                    <text x="572" y="238" text-anchor="middle" fill="#2d3436" font-size="22" font-weight="bold">10</text>
                </g>
                
                <!-- –ö–æ—Ä–ø—É—Å 12 -->
                <g class="building" data-building="12" onclick="selectBuilding(12)">
                    <rect x="490" y="60" width="75" height="55" fill="#fab1a0" stroke="#2d3436" stroke-width="2.5" rx="4"/>
                    <text x="527" y="93" text-anchor="middle" fill="#2d3436" font-size="22" font-weight="bold">12</text>
                </g>
                
                <!-- –ö–æ—Ä–ø—É—Å 2 (–ñ–ï–õ–¢–´–ô - –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–π) -->
                <g class="building" data-building="2" onclick="selectBuilding(2)">
                    <rect x="415" y="370" width="70" height="60" fill="#ffeaa7" stroke="#fdcb6e" stroke-width="4" rx="4"/>
                    <text x="450" y="406" text-anchor="middle" fill="#2d3436" font-size="24" font-weight="bold">2</text>
                </g>
                
                <!-- –ö–æ—Ä–ø—É—Å 3 -->
                <g class="building" data-building="3" onclick="selectBuilding(3)">
                    <rect x="500" y="380" width="65" height="55" fill="#fab1a0" stroke="#2d3436" stroke-width="2.5" rx="4"/>
                    <text x="532" y="413" text-anchor="middle" fill="#2d3436" font-size="22" font-weight="bold">3</text>
                </g>
                
                <!-- –ö–æ—Ä–ø—É—Å 4 -->
                <g class="building" data-building="4" onclick="selectBuilding(4)">
                    <rect x="430" y="480" width="65" height="55" fill="#fab1a0" stroke="#2d3436" stroke-width="2.5" rx="4"/>
                    <text x="462" y="513" text-anchor="middle" fill="#2d3436" font-size="22" font-weight="bold">4</text>
                </g>
                
                <!-- –û–±—â. ‚Ññ8 -->
                <g class="building" data-building="obsh8">
                    <rect x="580" y="370" width="80" height="70" fill="#74b9ff" stroke="#2d3436" stroke-width="2.5" rx="4"/>
                    <text x="620" y="398" text-anchor="middle" fill="#2d3436" font-size="15" font-weight="bold">–û–±—â.</text>
                    <text x="620" y="418" text-anchor="middle" fill="#2d3436" font-size="15" font-weight="bold">‚Ññ8</text>
                </g>
                
                <!-- –ö–æ—Ä–ø—É—Å 9 -->
                <g class="building" data-building="9" onclick="selectBuilding(9)">
                    <rect x="640" y="340" width="65" height="55" fill="#fab1a0" stroke="#2d3436" stroke-width="2.5" rx="4"/>
                    <text x="672" y="373" text-anchor="middle" fill="#2d3436" font-size="22" font-weight="bold">9</text>
                </g>
                
                <!-- –ö–æ—Ä–ø—É—Å 11 -->
                <g class="building" data-building="11" onclick="selectBuilding(11)">
                    <rect x="620" y="420" width="65" height="55" fill="#fab1a0" stroke="#2d3436" stroke-width="2.5" rx="4"/>
                    <text x="652" y="453" text-anchor="middle" fill="#2d3436" font-size="22" font-weight="bold">11</text>
                </g>
                
                <!-- –ö–æ—Ä–ø—É—Å 5 -->
                <g class="building" data-building="5" onclick="selectBuilding(5)">
                    <rect x="735" y="155" width="65" height="55" fill="#fab1a0" stroke="#2d3436" stroke-width="2.5" rx="4"/>
                    <text x="767" y="188" text-anchor="middle" fill="#2d3436" font-size="22" font-weight="bold">5</text>
                </g>
                
                <!-- –ö–æ—Ä–ø—É—Å 19 -->
                <g class="building" data-building="19" onclick="selectBuilding(19)">
                    <rect x="720" y="390" width="65" height="55" fill="#fab1a0" stroke="#2d3436" stroke-width="2.5" rx="4"/>
                    <text x="752" y="423" text-anchor="middle" fill="#2d3436" font-size="20" font-weight="bold">19</text>
                </g>
                
                <!-- –í—Ö–æ–¥—ã (–∫—Ä–∞—Å–Ω—ã–µ —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫–∏) -->
                <polygon points="60,155 80,165 60,175" fill="#e74c3c" class="entrance" data-entrance="west1"/>
                <polygon points="60,260 80,270 60,280" fill="#e74c3c" class="entrance" data-entrance="west2"/>
                <polygon points="60,360 80,370 60,380" fill="#e74c3c" class="entrance" data-entrance="west3"/>
                <polygon points="405,295 415,315 405,335" fill="#e74c3c" class="entrance" data-entrance="center"/>
                <polygon points="405,390 415,410 405,430" fill="#e74c3c" class="entrance" data-entrance="south"/>
                <polygon points="730,155 740,165 730,175" fill="#e74c3c" class="entrance" data-entrance="east"/>
                
                <!-- –¢—Ä–æ–ø–∏–Ω–∫–∏ (–±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏) -->
                <g id="paths-layer"></g>
                
                <!-- –°–ª–æ–π –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ –º–∞—Ä—à—Ä—É—Ç–∞ -->
                <g id="route-layer"></g>
            </svg>
        </div>
        
        <!-- –ü–∞–Ω–µ–ª—å –≤—ã–±–æ—Ä–∞ –≤—Ö–æ–¥–∞ -->
        <div id="entrance-panel" class="panel hidden">
            <h3>–í—ã–±–µ—Ä–∏—Ç–µ –≤—Ö–æ–¥</h3>
            <div class="entrance-list">
                <button class="entrance-btn" onclick="selectEntrance('west1')">üö™ –ó–∞–ø–∞–¥–Ω—ã–π 1</button>
                <button class="entrance-btn" onclick="selectEntrance('west2')">üö™ –ó–∞–ø–∞–¥–Ω—ã–π 2</button>
                <button class="entrance-btn" onclick="selectEntrance('west3')">üö™ –ó–∞–ø–∞–¥–Ω—ã–π 3</button>
                <button class="entrance-btn" onclick="selectEntrance('center')">üèõÔ∏è –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π</button>
                <button class="entrance-btn" onclick="selectEntrance('south')">üö∂ –Æ–∂–Ω—ã–π</button>
                <button class="entrance-btn" onclick="selectEntrance('east')">üö∂ –í–æ—Å—Ç–æ—á–Ω—ã–π</button>
            </div>
            <button class="cancel-btn" onclick="cancelSelection()">–û—Ç–º–µ–Ω–∞</button>
        </div>
        
        <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ—Ä–ø—É—Å–µ -->
        <div id="building-info" class="info-panel hidden">
            <h3 id="building-name">–ö–æ—Ä–ø—É—Å</h3>
            <p id="building-description"></p>
            <button class="route-btn" onclick="showEntrancePanel()">üìç –ü–æ—Å—Ç—Ä–æ–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç</button>
            <button class="close-btn" onclick="closeInfo()">–ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
    </div>
    
    <script src="map-script.js"></script>
</body>
</html>
