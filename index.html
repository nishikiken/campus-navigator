<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Navigate Helper</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="style.css?v=35">
    <style>
        /* –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –∫–æ–Ω—Å–æ–ª—å –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ */
        #debug-console {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            max-height: 200px;
            background: rgba(0, 0, 0, 0.95);
            color: #0f0;
            font-family: monospace;
            font-size: 10px;
            padding: 8px;
            overflow-y: auto;
            z-index: 99999;
            display: none;
            border-top: 2px solid #0f0;
        }
        #debug-console.active {
            display: block;
        }
        #debug-toggle {
            position: fixed;
            top: 10px;
            right: 10px;
            background: rgba(0, 0, 0, 0.7);
            color: #0f0;
            border: 1px solid #0f0;
            padding: 5px 10px;
            font-size: 12px;
            z-index: 99998;
            cursor: pointer;
            border-radius: 4px;
        }
        .log-entry {
            margin: 2px 0;
            padding: 2px 0;
            border-bottom: 1px solid #333;
        }
        .log-error { color: #f00; }
        .log-warn { color: #ff0; }
        .log-info { color: #0ff; }
    </style>
</head>
<body>
    <!-- –ö–Ω–æ–ø–∫–∞ –¥–ª—è –ø–æ–∫–∞–∑–∞/—Å–∫—Ä—ã—Ç–∏—è –∫–æ–Ω—Å–æ–ª–∏ -->
    <button id="debug-toggle" onclick="toggleDebugConsole()">üêõ Console</button>
    
    <!-- –ö–æ–Ω—Å–æ–ª—å –æ—Ç–ª–∞–¥–∫–∏ -->
    <div id="debug-console"></div>
    <!-- Splash Screen -->
    <div id="splash" class="splash">
        <div class="splash-content">
            <h1 class="splash-title">Navigate Helper</h1>
            <p class="splash-subtitle">–°–¥–µ–ª–∞–Ω–æ –ê—Ä—Ç–µ–º–æ–º –ì–∞–ª–∫–æ–≤—ã–º –ò–°–ü 3-4</p>
        </div>
    </div>

    <div class="container">
        <!-- –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é -->
        <div id="step-main" class="step active">
            <div class="header">
                <div class="icon">üéì</div>
                <h1>–ß–µ–º –ø–æ–º–æ—á—å?</h1>
                <p class="subtitle">–í—ã–±–µ—Ä–∏ —á—Ç–æ —Ç–µ–±–µ –Ω—É–∂–Ω–æ</p>
            </div>
            <div class="main-menu">
                <div class="menu-card" onclick="goToMap()">
                    <div class="menu-icon">üó∫Ô∏è</div>
                    <div class="menu-info">
                        <h3>–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞</h3>
                        <p>–í–µ–∫—Ç–æ—Ä–Ω–∞—è –∫–∞—Ä—Ç–∞ —Å –º–∞—Ä—à—Ä—É—Ç–∞–º–∏</p>
                    </div>
                </div>
                <div class="menu-card" onclick="goToFAQ()">
                    <div class="menu-icon">‚ùì</div>
                    <div class="menu-info">
                        <h3>FAQ</h3>
                        <p>–ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã –∏ –æ—Ç–≤–µ—Ç—ã</p>
                    </div>
                </div>
                <div class="menu-card" onclick="goToFood()">
                    <div class="menu-icon">üçî</div>
                    <div class="menu-info">
                        <h3>–ì–¥–µ –ø–æ–µ—Å—Ç—å</h3>
                        <p>–°—Ç–æ–ª–æ–≤—ã–µ, –∫–∞—Ñ–µ, –∞–≤—Ç–æ–º–∞—Ç—ã</p>
                    </div>
                </div>
                <div class="menu-card" onclick="goToShop()">
                    <div class="menu-icon">üé®</div>
                    <div class="menu-info">
                        <h3>–ú–∞–≥–∞–∑–∏–Ω –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏–∏</h3>
                        <p>–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä—É–π —Å–≤–æ–π –ø—Ä–æ—Ñ–∏–ª—å</p>
                    </div>
                </div>
            </div>
            
            <!-- –ß–µ—Ä–Ω–æ–µ –ø–æ–ª–æ—Ç–Ω–æ (–æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø—Ä–æ—Ç—è–≥–∏–≤–∞–Ω–∏–µ–º –ø–ª–∞—à–∫–∏) -->
            <div class="dark-overlay" id="dark-overlay">
                <div class="overlay-content">
                    <button class="back-capsule back-under-card" onclick="closeOverlay()">
                        ‚Üê –ù–∞–∑–∞–¥
                    </button>
                    <div class="menu-card leaderboard-btn-card" id="leaderboard-btn-card" onclick="openLeaderboard()">
                        <div class="menu-icon">üèÜ</div>
                        <div class="menu-info">
                            <h3>–¢–∞–±–ª–∏—Ü–∞ –ª–∏–¥–µ—Ä–æ–≤</h3>
                            <p>–¢–æ–ø 50 –∏–≥—Ä–æ–∫–æ–≤ –ø–æ —Ä–µ–π—Ç–∏–Ω–≥—É</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (glassmorphism) - –ø—Ä–æ—Ç—è–≥–∏–≤–∞–µ—Ç—Å—è –ø–∞–ª—å—Ü–µ–º -->
            <div class="user-profile-card" id="user-profile-card">
                <div class="swipe-indicator">
                    <div class="swipe-arrows">‚Ä∫‚Ä∫</div>
                </div>
                <div class="particles-bg"></div>
                <div class="user-info">
                    <div class="user-balance">
                        <div class="balance-icon">üéüÔ∏è</div>
                        <div class="balance-amount" id="user-tokens">0</div>
                    </div>
                    <div class="user-details">
                        <div class="user-name" id="user-name">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
                        <div class="user-rating">
                            <span class="rating-label">–†–µ–π—Ç–∏–Ω–≥:</span>
                            <span class="rating-icon">‚≠ê</span>
                            <span class="rating-value" id="user-rating">0</span>
                        </div>
                    </div>
                    <div class="user-avatar-wrapper">
                        <div class="user-avatar" id="user-avatar">
                            <div class="avatar-placeholder">üë§</div>
                        </div>
                        <div class="user-version">v59</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- –¢–∞–±–ª–∏—Ü–∞ –ª–∏–¥–µ—Ä–æ–≤ -->
        <div id="step-leaderboard" class="step leaderboard-view">
            <div class="leaderboard-header">
                <button class="back-capsule back-under-card" onclick="closeLeaderboard()">
                    ‚Üê –ù–∞–∑–∞–¥
                </button>
            </div>
            <div class="leaderboard-list" id="leaderboard-list">
                <!-- –°–ø–∏—Å–æ–∫ –ª–∏–¥–µ—Ä–æ–≤ –±—É–¥–µ—Ç –∑–¥–µ—Å—å -->
            </div>
        </div>

        <!-- FAQ -->
        <div id="step-faq" class="step">
            <div class="header">
                <button class="back-btn" onclick="goToMain()">‚Üê</button>
                <div class="icon">‚ùì</div>
                <h1>FAQ</h1>
                <p class="subtitle">–ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã</p>
            </div>
            <div class="faq-list">
                <div class="faq-item">
                    <div class="faq-question">–ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π –∫–∞—Ä—Ç–æ–π?</div>
                    <div class="faq-answer">–ù–∞–∂–º–∏ –Ω–∞ –∫–æ—Ä–ø—É—Å, –≤—ã–±–µ—Ä–∏ –≤—Ö–æ–¥ –Ω–∞ –∫–∞–º–ø—É—Å, –∏ –º–∞—Ä—à—Ä—É—Ç –ø–æ—Å—Ç—Ä–æ–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏. –ú–æ–∂–Ω–æ –ø—Ä–∏–±–ª–∏–∂–∞—Ç—å –∏ –¥–≤–∏–≥–∞—Ç—å –∫–∞—Ä—Ç—É –ø–∞–ª—å—Ü–µ–º.</div>
                </div>
                <div class="faq-item">
                    <div class="faq-question">–ß—Ç–æ –¥–µ–ª–∞—Ç—å –µ—Å–ª–∏ –ø–æ—Ç–µ—Ä—è–ª/–∑–∞–±—ã–ª —Å—Ç—É–¥–µ–Ω—á–µ—Å–∫–∏–π?</div>
                    <div class="faq-answer">–í—ã –¥–æ–ª–∂–Ω—ã —Å–¥–µ–ª–∞—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–π –ø—Ä–æ–ø—É—Å–∫, –æ–±—Ä–∞—Ç–∏–≤—à–∏—Å—å –∑–∞ –Ω–∏–º –≤ –ë—é—Ä–æ –ø—Ä–æ–ø—É—Å–∫–æ–≤ –≤ –∫–æ—Ä–ø—É—Å–∞—Ö 1, 5 –∏–ª–∏ 8.</div>
                </div>
                <div class="faq-item">
                    <div class="faq-question">–ö–∞–∫ –Ω–∞–π—Ç–∏ –º–µ–¥–ø—É–Ω–∫—Ç?</div>
                    <div class="faq-answer">–ú–µ–¥–ø—É–Ω–∫—Ç –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –û–±—â–µ–∂–∏—Ç–∏–∏ ‚Ññ2 –∏ –æ—Ç–º–µ—á–µ–Ω –Ω–∞ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π –∫–∞—Ä—Ç–µ. –í—ã–±–µ—Ä–∏ –µ–≥–æ –∫–∞–∫ –ø—É–Ω–∫—Ç –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –∏ –ø–æ—Å—Ç—Ä–æ–π –º–∞—Ä—à—Ä—É—Ç.</div>
                </div>
            </div>
        </div>

        <!-- –í—ã–±–æ—Ä –∫–æ—Ä–ø—É—Å–∞ –¥–ª—è –µ–¥—ã -->
        <div id="step-food" class="step">
            <div class="header">
                <button class="back-btn" onclick="goToMain()">‚Üê</button>
                <div class="icon">üçî</div>
                <h1>–ì–¥–µ –ø–æ–µ—Å—Ç—å</h1>
                <p class="subtitle">–í—ã–±–µ—Ä–∏ –∫–æ—Ä–ø—É—Å</p>
            </div>
            <div class="food-buildings" id="food-buildings-list"></div>
        </div>

        <!-- –°–ø–∏—Å–æ–∫ –º–µ—Å—Ç –≤ –∫–æ—Ä–ø—É—Å–µ -->
        <div id="step-food-list" class="step">
            <div class="header">
                <button class="back-btn" onclick="goToFood()">‚Üê</button>
                <div class="icon">üçΩÔ∏è</div>
                <h1 id="food-building-title">–ö–æ—Ä–ø—É—Å</h1>
                <p class="subtitle">–ß—Ç–æ —Ç—É—Ç –µ—Å—Ç—å</p>
            </div>
            <div class="food-list" id="food-list"></div>
        </div>

        <!-- –ò–Ω—Ñ–æ –æ –º–µ—Å—Ç–µ –µ–¥—ã -->
        <div id="step-food-info" class="step">
            <div class="header">
                <button class="back-btn" onclick="goToFoodList()">‚Üê</button>
                <h1 id="food-title">–ú–µ—Å—Ç–æ</h1>
            </div>
            <div class="food-info-card" id="food-info-content"></div>
        </div>

        <!-- –í—ã–±–æ—Ä –≤—Ö–æ–¥–∞ -->
        <div id="step-entrance" class="step">
            <div class="header">
                <button class="back-btn" onclick="goToMain()">‚Üê</button>
                <div class="icon">üìç</div>
                <h1>–ì–¥–µ —Ç—ã —Å–µ–π—á–∞—Å?</h1>
                <p class="subtitle">–í—ã–±–µ—Ä–∏ –±–ª–∏–∂–∞–π—à–∏–π –≤—Ö–æ–¥</p>
            </div>
            <div class="entrances" id="entrances-list"></div>
        </div>

        <!-- –í—ã–±–æ—Ä –∫–æ—Ä–ø—É—Å–∞ -->
        <div id="step-building" class="step">
            <div class="header">
                <button class="back-btn" onclick="goToEntrances()">‚Üê</button>
                <div class="icon">üè¢</div>
                <h1>–ö—É–¥–∞ –∏–¥—ë–º?</h1>
                <p class="subtitle" id="selected-entrance"></p>
            </div>
            <div class="buildings-grid" id="buildings-list"></div>
        </div>

        <!-- –ú–∞—Ä—à—Ä—É—Ç -->
        <div id="step-route" class="step">
            <div class="header">
                <button class="back-btn" onclick="goToBuildings()">‚Üê</button>
                <h1 id="route-title">–ú–∞—Ä—à—Ä—É—Ç</h1>
            </div>
            <div class="route-container" onclick="openFullscreen()">
                <img id="route-image" src="" alt="–ú–∞—Ä—à—Ä—É—Ç">
                <div class="loading" id="loading">
                    <div class="spinner"></div>
                </div>
                <div class="zoom-hint">–ù–∞–∂–º–∏ –¥–ª—è —É–≤–µ–ª–∏—á–µ–Ω–∏—è</div>
            </div>
            <button class="arrived-btn" onclick="arrived()">‚úÖ –î–æ—à–ª–∏!</button>
        </div>
    </div>
    <script src="app.js?v=35"></script>
</body>
</html>
